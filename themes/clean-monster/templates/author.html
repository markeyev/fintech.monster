{% extends "base.html" %}

{% block title %}{{ author }} | {{ SITENAME }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 lg:px-8 py-12">
    <!-- Author Header / Bio -->
    <div class="border-b border-gray-200 pb-12 mb-12 text-center max-w-3xl mx-auto">
        {% if AUTHOR_IMAGES and author.name in AUTHOR_IMAGES %}
        <div class="w-24 h-24 mx-auto mb-6 overflow-hidden rounded-full border border-gray-200">
            <img src="{{ SITEURL }}/{{ AUTHOR_IMAGES[author.name] }}" alt="{{ author }}"
                class="w-full h-full object-cover">
        </div>
        {% else %}
        <div
            class="w-24 h-24 bg-gray-200 rounded-full mx-auto flex items-center justify-center font-bold text-3xl text-gray-500 mb-6">
            {{ author.name|first }}
        </div>
        {% endif %}
        <h1 class="text-4xl font-bold uppercase tracking-tight mb-4">{{ author }}</h1>
        <p class="text-gray-600 text-lg leading-relaxed">
            {% if AUTHOR_BIO and author.name in AUTHOR_BIO %}
            {{ AUTHOR_BIO[author.name] }}
            {% else %}
            Writer at Fintech Monster.
            {% endif %}
        </p>
    </div>

    <!-- Articles Grid -->
    <h2 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-8">Latest Articles by {{ author }}</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12">
        {% for article in (articles_page.object_list if articles_page else articles) %}
        <article class="flex flex-col group">
            <div class="aspect-video bg-gray-100 mb-4 overflow-hidden relative">
                {% if article.image %}
                <a href="{{ SITEURL }}/{{ article.url }}">
                    <img src="{{ SITEURL }}/{{ article.image }}" alt="{{ article.title }}"
                        class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                </a>
                {% else %}
                <div class="w-full h-full flex items-center justify-center bg-gray-50 text-gray-200">
                    <span class="text-xl font-bold">F.M</span>
                </div>
                {% endif %}
            </div>
            <div class="mb-2">
                <span class="text-xs font-bold text-accent-blue uppercase tracking-wider">
                    {{ article.category }}
                </span>
            </div>
            <h4 class="text-xl font-bold leading-tight mb-3">
                <a href="{{ SITEURL }}/{{ article.url }}" class="group-hover:text-gray-600 transition-colors">
                    {{ article.title }}
                </a>
            </h4>
            <div class="text-gray-500 text-sm leading-relaxed line-clamp-3 mb-4 flex-grow">
                {{ article.summary|striptags }}
            </div>
            <div class="text-xs text-gray-400 font-mono mt-auto">
                {{ article.locale_date }}
            </div>
        </article>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if articles_page and articles_page.has_other_pages() %}
    <div class="flex justify-center mt-16 gap-4">
        {% if articles_page.has_previous() %}
        <a href="{{ SITEURL }}/{{ articles_previous_page.url }}"
            class="px-4 py-2 border border-gray-300 text-gray-600 hover:bg-black hover:text-white transition uppercase text-sm font-bold">Previous</a>
        {% endif %}
        {% if articles_page.has_next() %}
        <a href="{{ SITEURL }}/{{ articles_next_page.url }}"
            class="px-4 py-2 border border-gray-300 text-gray-600 hover:bg-black hover:text-white transition uppercase text-sm font-bold">Next</a>
        {% endif %}
    </div>
    {% endif %}

</div>
{% endblock %}